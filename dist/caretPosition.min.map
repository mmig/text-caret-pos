{"version":3,"sources":["caretPosition.js"],"names":["root","factory","define","amd","module","exports","caretPosition","self","this","lastStyleTargetType","properties","spanProperties","n","v","isBrowser","window","isFirefox","mozInnerScreenX","createCaretCoordinatesDiv","options","div","id","debug","reuse","document","getElementById","createElement","body","appendChild","measureFontZoom","span","style","position","visibility","fontSize","measured","parseFloat","getComputedStyle","getPropertyValue","parentNode","removeChild","isFinite","styleCaretCoordinatesDiv","element","guessIfUpdateStyle","forceUpdateStyle","tagName","computed","currentStyle","whiteSpace","nodeName","wordWrap","isInput","fontZoom","additionalStyles","concat","forEach","prop","cc","ch","th","oh","fsize","scrollHeight","parseInt","height","overflowY","overflow","resetStyleCaretCoordinatesDiv","getText","text","value","updateCaretCoordinates","textContent","substring","replace","fauxId","forceClearFauxStyle","spanStyle","coordinates","top","offsetTop","left","offsetLeft","returnHeight","offsetHeight","createDiv","styleDiv","resetStyleDiv","resetDiv","updateCoordinates","getCoordinates","Error","backgroundColor","_div","returnDiv"],"mappings":"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","file":"caretPosition.min.map"}