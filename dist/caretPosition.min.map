{"version":3,"sources":["caretPosition.js"],"names":["root","factory","define","amd","module","exports","caretPosition","self","this","lastStyleTargetType","properties","spanProperties","n","v","isBrowser","window","isFirefox","mozInnerScreenX","createCaretCoordinatesDiv","options","div","id","debug","reuse","document","getElementById","createElement","body","appendChild","measureFontZoom","span","style","position","visibility","fontSize","measured","parseFloat","getComputedStyle","getPropertyValue","parentNode","removeChild","isFinite","styleCaretCoordinatesDiv","element","guessIfUpdateStyle","forceUpdateStyle","tagName","computed","currentStyle","whiteSpace","nodeName","wordWrap","isInput","fontZoom","forEach","prop","cc","ch","th","oh","fsize","scrollHeight","parseInt","height","overflowY","overflow","resetStyleCaretCoordinatesDiv","getText","text","value","updateCaretCoordinates","textContent","substring","replace","fauxId","forceClearFauxStyle","spanStyle","coordinates","top","offsetTop","left","offsetLeft","returnHeight","offsetHeight","createDiv","styleDiv","resetStyleDiv","resetDiv","updateCoordinates","getCoordinates","Error","backgroundColor","_div","returnDiv"],"mappings":"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","file":"caretPosition.min.map"}