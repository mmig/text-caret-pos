{"version":3,"sources":["caretPosition.js"],"names":["root","factory","define","amd","module","exports","caretPosition","self","this","lastStyleTargetType","properties","spanProperties","n","v","isBrowser","window","isFirefox","mozInnerScreenX","createCaretCoordinatesDiv","options","div","id","debug","reuse","document","getElementById","createElement","body","appendChild","measureFontZoom","span","style","position","visibility","fontSize","measured","parseFloat","getComputedStyle","getPropertyValue","parentNode","removeChild","isFinite","styleCaretCoordinatesDiv","element","guessIfUpdateStyle","forceUpdateStyle","tagName","computed","currentStyle","whiteSpace","nodeName","wordWrap","allowInputWrap","isInput","fontZoom","additionalStyles","concat","forEach","prop","cc","ch","th","oh","fsize","scrollHeight","parseInt","height","overflowY","overflow","resetStyleCaretCoordinatesDiv","getText","text","value","updateCaretCoordinates","textContent","substring","replace","fauxId","forceClearFauxStyle","spanStyle","coordinates","top","offsetTop","left","offsetLeft","returnHeight","offsetHeight","createDiv","styleDiv","resetStyleDiv","resetDiv","updateCoordinates","getCoordinates","Error","backgroundColor","_div","returnDiv"],"mappings":"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","file":"caretPosition.min.map"}